<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 7.0 (Python 3.10.12 on linux)" generated="2025-10-31T09:57:29.703501" rpa="false" schemaversion="5">
<suite id="s1" name="Users Tests" source="/home/gregoryozaki/Documentos/compass/challenge-final/api-tests/testcases/users_tests.robot">
<test id="s1-t1" name="CT08 - Listar todos os usuários (Admin - 200)" line="22">
<kw name="Login As Admin" owner="keywords" type="SETUP">
<kw name="Get Admin Token Manual" owner="admin_token_helper">
<msg time="2025-10-31T09:57:29.834687" level="INFO">${token} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg</msg>
<var>${token}</var>
<doc>Wrapper simples para ser usado diretamente no Robot Framework.</doc>
<status status="PASS" start="2025-10-31T09:57:29.830078" elapsed="0.004652"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.835101" level="INFO">${TOKEN_ADMIN} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg</msg>
<arg>${TOKEN_ADMIN}</arg>
<arg>${token}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-31T09:57:29.834886" elapsed="0.000248"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.835315" level="INFO">Token Admin Gerado com sucesso (WORKAROUND).</msg>
<arg>Token Admin Gerado com sucesso (WORKAROUND).</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-31T09:57:29.835232" elapsed="0.000112"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:29.829696" elapsed="0.005695"/>
</kw>
<kw name="Create Authorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.836005" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg', 'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Authorization": "${token}", "Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:29.835788" elapsed="0.000350"/>
</kw>
<arg>${TOKEN_ADMIN}</arg>
<status status="PASS" start="2025-10-31T09:57:29.835553" elapsed="0.000636"/>
</kw>
<kw name="GET On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.841284" level="INFO">GET Request : url=http://localhost:5000/api/v1/users/ 
 path_url=/api/v1/users/ 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg', 'Content-Type': 'application/json'} 
 body=None 
 </msg>
<msg time="2025-10-31T09:57:29.841380" level="INFO">GET Response : url=http://localhost:5000/api/v1/users/ 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '2276', 'ETag': 'W/"8e4-Qckj2+Qf6VYGvO7xewzkg4Brgb4"', 'Date': 'Fri, 31 Oct 2025 13:57:29 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"count":12,"data":[{"_id":"6904b6b8c38baedde8e55598","name":"Admin User","email":"admin@example.com","role":"admin","createdAt":"2025-10-31T13:16:40.451Z","__v":0,"updatedAt":"2025-10-31T13:16:40.453Z"},{"_id":"6904b6b8c38baedde8e55599","name":"Regular User","email":"user@example.com","role":"user","createdAt":"2025-10-31T13:16:40.451Z","__v":0,"updatedAt":"2025-10-31T13:16:40.453Z"},{"_id":"6904b77e358627cee4894b1d","name":"Test User","email":"testusermznup@mail.com","role":"user","createdAt":"2025-10-31T13:19:58.939Z","updatedAt":"2025-10-31T13:19:58.939Z","__v":0},{"_id":"6904b86b358627cee4894b25","name":"Test User","email":"testuserfopwl@mail.com","role":"user","createdAt":"2025-10-31T13:23:55.382Z","updatedAt":"2025-10-31T13:23:55.382Z","__v":0},{"_id":"6904ba74358627cee4894b4e","name":"Test User","email":"testuserohiky@mail.com","role":"user","createdAt":"2025-10-31T13:32:36.600Z","updatedAt":"2025-10-31T13:32:36.600Z","__v":0},{"_id":"6904ba95358627cee4894b55","name":"Test User","email":"testusercudiz@mail.com","role":"user","createdAt":"2025-10-31T13:33:09.968Z","updatedAt":"2025-10-31T13:33:09.968Z","__v":0},{"_id":"6904bb0c358627cee4894b5c","name":"Test User","email":"testuserxeomh@mail.com","role":"user","createdAt":"2025-10-31T13:35:08.640Z","updatedAt":"2025-10-31T13:35:08.640Z","__v":0},{"_id":"6904bddf358627cee4894b63","name":"Test User","email":"testusermljzj@mail.com","role":"user","createdAt":"2025-10-31T13:47:11.345Z","updatedAt":"2025-10-31T13:47:11.345Z","__v":0},{"_id":"6904bf56358627cee4894b84","name":"User oniwv","email":"new_user_oniwv@mail.com","role":"user","createdAt":"2025-10-31T13:53:26.521Z","updatedAt":"2025-10-31T13:53:26.521Z","__v":0},{"_id":"6904bf83358627cee4894b8b","name":"Test User","email":"testuserufedm@mail.com","role":"user","createdAt":"2025-10-31T13:54:11.050Z","updatedAt":"2025-10-31T13:54:11.050Z","__v":0},{"_id":"6904bf9b358627cee4894b92","name":"Test User","email":"testuserkspir@mail.com","role":"user","createdAt":"2025-10-31T13:54:35.099Z","updatedAt":"2025-10-31T13:54:35.099Z","__v":0},{"_id":"6904bfac358627cee4894bb3","name":"Test User","email":"testuserhbwag@mail.com","role":"user","createdAt":"2025-10-31T13:54:52.010Z","updatedAt":"2025-10-31T13:54:52.010Z","__v":0}]} 
 </msg>
<msg time="2025-10-31T09:57:29.841504" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<var>${response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:29.836294" elapsed="0.005227"/>
</kw>
<kw name="Validate 200 OK Response" owner="keywords">
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.842352" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${response.status_code}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2025-10-31T09:57:29.842002" elapsed="0.000393"/>
</kw>
<arg>${response}</arg>
<status status="PASS" start="2025-10-31T09:57:29.841736" elapsed="0.000704"/>
</kw>
<kw name="Get Length" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.842865" level="INFO">Length is 12.</msg>
<msg time="2025-10-31T09:57:29.842918" level="INFO">${count} = 12</msg>
<var>${count}</var>
<arg>${response.json()["data"]}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<status status="PASS" start="2025-10-31T09:57:29.842543" elapsed="0.000388"/>
</kw>
<kw name="Should Be True" owner="BuiltIn">
<arg>${count} &gt;= 2</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" start="2025-10-31T09:57:29.843027" elapsed="0.000207"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn" type="TEARDOWN">
<arg>'${CREATED_USER_ID}' != 'None'</arg>
<arg>Delete Created User</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2025-10-31T09:57:29.843396" elapsed="0.000096"/>
</kw>
<doc>Deve retornar 200 e lista de usuários (mínimo 2 registros)</doc>
<status status="PASS" start="2025-10-31T09:57:29.829229" elapsed="0.014308"/>
</test>
<test id="s1-t2" name="CT09 - Tentativa de listar usuários (Usuário Padrão - 403)" line="30">
<kw name="Login As Admin" owner="keywords" type="SETUP">
<kw name="Get Admin Token Manual" owner="admin_token_helper">
<msg time="2025-10-31T09:57:29.847305" level="INFO">${token} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg</msg>
<var>${token}</var>
<doc>Wrapper simples para ser usado diretamente no Robot Framework.</doc>
<status status="PASS" start="2025-10-31T09:57:29.844099" elapsed="0.003250"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.847811" level="INFO">${TOKEN_ADMIN} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg</msg>
<arg>${TOKEN_ADMIN}</arg>
<arg>${token}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-31T09:57:29.847531" elapsed="0.000321"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.848065" level="INFO">Token Admin Gerado com sucesso (WORKAROUND).</msg>
<arg>Token Admin Gerado com sucesso (WORKAROUND).</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-31T09:57:29.847970" elapsed="0.000134"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:29.843956" elapsed="0.004209"/>
</kw>
<kw name="Login As User" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.848756" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:29.848614" elapsed="0.000309"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.849394" level="INFO">${body} = {'email': 'user@example.com', 'password': 'password123'}</msg>
<var>${body}</var>
<arg>email=${USER_EMAIL}</arg>
<arg>password=${USER_PASSWORD}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-31T09:57:29.849042" elapsed="0.000375"/>
</kw>
<kw name="POST On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.911186" level="INFO">POST Request : url=http://localhost:5000/api/v1/auth/login 
 path_url=/api/v1/auth/login 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '56', 'Content-Type': 'application/json'} 
 body=b'{"email": "user@example.com", "password": "password123"}' 
 </msg>
<msg time="2025-10-31T09:57:29.911251" level="INFO">POST Response : url=http://localhost:5000/api/v1/auth/login 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '303', 'ETag': 'W/"12f-LTFROzO/zs0uBFXS4kwPwbqmxNM"', 'Date': 'Fri, 31 Oct 2025 13:57:29 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"data":{"_id":"6904b6b8c38baedde8e55599","name":"Regular User","email":"user@example.com","role":"user","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OSIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYyMDA1NDQ5fQ.cEpJBNF46wxTYob9P5nwEhOF7zGgtJRhIs5v1EeIiJ8"}} 
 </msg>
<msg time="2025-10-31T09:57:29.911353" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<var>${response}</var>
<arg>api</arg>
<arg>/auth/login</arg>
<arg>json=${body}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:29.849530" elapsed="0.061840"/>
</kw>
<kw name="Validate 200 OK Response" owner="keywords">
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.912127" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${response.status_code}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2025-10-31T09:57:29.911790" elapsed="0.000379"/>
</kw>
<arg>${response}</arg>
<status status="PASS" start="2025-10-31T09:57:29.911529" elapsed="0.000684"/>
</kw>
<kw name="Get From Dictionary" owner="Collections">
<msg time="2025-10-31T09:57:29.912615" level="INFO">${data} = {'_id': '6904b6b8c38baedde8e55599', 'name': 'Regular User', 'email': 'user@example.com', 'role': 'user', 'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OSIsImlh...</msg>
<var>${data}</var>
<arg>${response.json()}</arg>
<arg>data</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<status status="PASS" start="2025-10-31T09:57:29.912288" elapsed="0.000341"/>
</kw>
<kw name="Get From Dictionary" owner="Collections">
<msg time="2025-10-31T09:57:29.912797" level="INFO">${token} = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OSIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYyMDA1NDQ5fQ.cEpJBNF46wxTYob9P5nwEhOF7zGgtJRhIs5v1EeIiJ8</msg>
<var>${token}</var>
<arg>${data}</arg>
<arg>token</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<status status="PASS" start="2025-10-31T09:57:29.912703" elapsed="0.000106"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.913005" level="INFO">${TOKEN_USER} = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OSIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYyMDA1NDQ5fQ.cEpJBNF46wxTYob9P5nwEhOF7zGgtJRhIs5v1EeIiJ8</msg>
<arg>${TOKEN_USER}</arg>
<arg>${token}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-31T09:57:29.912878" elapsed="0.000149"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:29.848385" elapsed="0.064678"/>
</kw>
<kw name="Create Authorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.913501" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OSIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYyMDA1NDQ5fQ.cEpJBNF46wxTYob9P5nwEhOF7zGgtJRhIs5v1EeIiJ8', 'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Authorization": "${token}", "Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:29.913340" elapsed="0.000262"/>
</kw>
<arg>${TOKEN_USER}</arg>
<status status="PASS" start="2025-10-31T09:57:29.913176" elapsed="0.000465"/>
</kw>
<kw name="GET On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.915172" level="INFO">GET Request : url=http://localhost:5000/api/v1/users/ 
 path_url=/api/v1/users/ 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OSIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYyMDA1NDQ5fQ.cEpJBNF46wxTYob9P5nwEhOF7zGgtJRhIs5v1EeIiJ8', 'Content-Type': 'application/json'} 
 body=None 
 </msg>
<msg time="2025-10-31T09:57:29.915217" level="INFO">GET Response : url=http://localhost:5000/api/v1/users/ 
 status=401, reason=Unauthorized 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '65', 'ETag': 'W/"41-TJq3LYiwj1On+7IZ17oLU5tM1Zs"', 'Date': 'Fri, 31 Oct 2025 13:57:29 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":false,"message":"Not authorized to access this route"} 
 </msg>
<msg time="2025-10-31T09:57:29.915286" level="FAIL">HTTPError: 401 Client Error: Unauthorized for url: http://localhost:5000/api/v1/users/</msg>
<var>${response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<status status="FAIL" start="2025-10-31T09:57:29.913726" elapsed="0.001894">HTTPError: 401 Client Error: Unauthorized for url: http://localhost:5000/api/v1/users/</status>
</kw>
<kw name="Validate 403 Forbidden Response" owner="keywords">
<arg>${response}</arg>
<status status="NOT RUN" start="2025-10-31T09:57:29.915782" elapsed="0.000016"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn" type="TEARDOWN">
<arg>'${CREATED_USER_ID}' != 'None'</arg>
<arg>Delete Created User</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2025-10-31T09:57:29.915983" elapsed="0.000113"/>
</kw>
<doc>Usuário padrão não pode listar todos os usuários</doc>
<status status="FAIL" start="2025-10-31T09:57:29.843683" elapsed="0.072459">HTTPError: 401 Client Error: Unauthorized for url: http://localhost:5000/api/v1/users/</status>
</test>
<test id="s1-t3" name="CT09 (b) - Tentativa de listar usuários (Sem Token - 401)" line="37">
<kw name="Login As Admin" owner="keywords" type="SETUP">
<kw name="Get Admin Token Manual" owner="admin_token_helper">
<msg time="2025-10-31T09:57:29.919779" level="INFO">${token} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg</msg>
<var>${token}</var>
<doc>Wrapper simples para ser usado diretamente no Robot Framework.</doc>
<status status="PASS" start="2025-10-31T09:57:29.916652" elapsed="0.003166"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.920234" level="INFO">${TOKEN_ADMIN} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg</msg>
<arg>${TOKEN_ADMIN}</arg>
<arg>${token}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-31T09:57:29.919977" elapsed="0.000297"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.920489" level="INFO">Token Admin Gerado com sucesso (WORKAROUND).</msg>
<arg>Token Admin Gerado com sucesso (WORKAROUND).</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-31T09:57:29.920394" elapsed="0.000135"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:29.916510" elapsed="0.004078"/>
</kw>
<kw name="Create Unauthorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.921248" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:29.921021" elapsed="0.000383"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:29.920782" elapsed="0.000687"/>
</kw>
<kw name="GET On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.923490" level="INFO">GET Request : url=http://localhost:5000/api/v1/users/ 
 path_url=/api/v1/users/ 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json'} 
 body=None 
 </msg>
<msg time="2025-10-31T09:57:29.923551" level="INFO">GET Response : url=http://localhost:5000/api/v1/users/ 
 status=401, reason=Unauthorized 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '65', 'ETag': 'W/"41-TJq3LYiwj1On+7IZ17oLU5tM1Zs"', 'Date': 'Fri, 31 Oct 2025 13:57:29 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":false,"message":"Not authorized to access this route"} 
 </msg>
<msg time="2025-10-31T09:57:29.923643" level="FAIL">HTTPError: 401 Client Error: Unauthorized for url: http://localhost:5000/api/v1/users/</msg>
<var>${response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<status status="FAIL" start="2025-10-31T09:57:29.921605" elapsed="0.002182">HTTPError: 401 Client Error: Unauthorized for url: http://localhost:5000/api/v1/users/</status>
</kw>
<kw name="Validate 401 Unauthorized Response" owner="keywords">
<arg>${response}</arg>
<status status="NOT RUN" start="2025-10-31T09:57:29.923996" elapsed="0.000023"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn" type="TEARDOWN">
<arg>'${CREATED_USER_ID}' != 'None'</arg>
<arg>Delete Created User</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2025-10-31T09:57:29.924288" elapsed="0.000166"/>
</kw>
<doc>Acesso negado sem autenticação</doc>
<status status="FAIL" start="2025-10-31T09:57:29.916281" elapsed="0.008252">HTTPError: 401 Client Error: Unauthorized for url: http://localhost:5000/api/v1/users/</status>
</test>
<test id="s1-t4" name="CT11 - Atualizar dados de um usuário (Admin - PUT)" line="43">
<kw name="Login As Admin" owner="keywords" type="SETUP">
<kw name="Get Admin Token Manual" owner="admin_token_helper">
<msg time="2025-10-31T09:57:29.929117" level="INFO">${token} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg</msg>
<var>${token}</var>
<doc>Wrapper simples para ser usado diretamente no Robot Framework.</doc>
<status status="PASS" start="2025-10-31T09:57:29.925472" elapsed="0.003683"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.929563" level="INFO">${TOKEN_ADMIN} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg</msg>
<arg>${TOKEN_ADMIN}</arg>
<arg>${token}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-31T09:57:29.929314" elapsed="0.000288"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.929809" level="INFO">Token Admin Gerado com sucesso (WORKAROUND).</msg>
<arg>Token Admin Gerado com sucesso (WORKAROUND).</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-31T09:57:29.929717" elapsed="0.000246"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:29.925230" elapsed="0.004788"/>
</kw>
<kw name="Generate Random String" owner="String">
<msg time="2025-10-31T09:57:29.930317" level="INFO">${random_suffix} = GWdyd</msg>
<var>${random_suffix}</var>
<arg>5</arg>
<arg>[LETTERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2025-10-31T09:57:29.930146" elapsed="0.000185"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.930531" level="INFO">${new_email} = tempuserGWdyd@mail.com</msg>
<var>${new_email}</var>
<arg>tempuser${random_suffix}@mail.com</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-31T09:57:29.930426" elapsed="0.000117"/>
</kw>
<kw name="Create Unauthorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.930961" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:29.930816" elapsed="0.000254"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:29.930649" elapsed="0.000500"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.931396" level="INFO">${body} = {'email': 'tempuserGWdyd@mail.com', 'password': 'senha123', 'name': 'Initial Name'}</msg>
<var>${body}</var>
<arg>email=${new_email}</arg>
<arg>password=senha123</arg>
<arg>name=Initial Name</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-31T09:57:29.931236" elapsed="0.000174"/>
</kw>
<kw name="POST On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.992235" level="INFO">POST Request : url=http://localhost:5000/api/v1/auth/register 
 path_url=/api/v1/auth/register 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '83'} 
 body=b'{"email": "tempuserGWdyd@mail.com", "password": "senha123", "name": "Initial Name"}' 
 </msg>
<msg time="2025-10-31T09:57:29.992298" level="INFO">POST Response : url=http://localhost:5000/api/v1/auth/register 
 status=201, reason=Created 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '309', 'ETag': 'W/"135-a0jjlIXrBqJx/OTnBa+/cTus4gs"', 'Date': 'Fri, 31 Oct 2025 13:57:29 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"data":{"_id":"6904c049358627cee4894bbd","name":"Initial Name","email":"tempusergwdyd@mail.com","role":"user","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRjMDQ5MzU4NjI3Y2VlNDg5NGJiZCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYyMDA1NDQ5fQ._mo2wAqjvwoaYCXdIkTU0v_RQo7EvoyZmWtAKd-b9Mc"}} 
 </msg>
<msg time="2025-10-31T09:57:29.992401" level="INFO">${create_response} = &lt;Response [201]&gt;</msg>
<var>${create_response}</var>
<arg>api</arg>
<arg>/auth/register</arg>
<arg>json=${body}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:29.931501" elapsed="0.060916"/>
</kw>
<kw name="Get From Dictionary" owner="Collections">
<msg time="2025-10-31T09:57:29.993023" level="INFO">${user_id} = 6904c049358627cee4894bbd</msg>
<var>${user_id}</var>
<arg>${create_response.json()["data"]}</arg>
<arg>_id</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<status status="PASS" start="2025-10-31T09:57:29.992594" elapsed="0.000448"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.993312" level="INFO">${CREATED_USER_ID} = 6904c049358627cee4894bbd</msg>
<arg>${CREATED_USER_ID}</arg>
<arg>${user_id}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-31T09:57:29.993171" elapsed="0.000163"/>
</kw>
<kw name="Create Authorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.993818" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg', 'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Authorization": "${token}", "Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:29.993642" elapsed="0.000285"/>
</kw>
<arg>${TOKEN_ADMIN}</arg>
<status status="PASS" start="2025-10-31T09:57:29.993451" elapsed="0.000520"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-31T09:57:29.994192" level="INFO">${update_body} = {'name': 'Updated Name'}</msg>
<var>${update_body}</var>
<arg>name=Updated Name</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-31T09:57:29.994077" elapsed="0.000127"/>
</kw>
<kw name="PUT On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:29.999893" level="INFO">PUT Request : url=http://localhost:5000/api/v1/users/6904c049358627cee4894bbd 
 path_url=/api/v1/users/6904c049358627cee4894bbd 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg', 'Content-Type': 'application/json', 'Content-Length': '24'} 
 body=b'{"name": "Updated Name"}' 
 </msg>
<msg time="2025-10-31T09:57:29.999951" level="INFO">PUT Response : url=http://localhost:5000/api/v1/users/6904c049358627cee4894bbd 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '127', 'ETag': 'W/"7f-gJUq718orXIkjQRJwpRgNaeDTaY"', 'Date': 'Fri, 31 Oct 2025 13:57:29 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"data":{"_id":"6904c049358627cee4894bbd","name":"Updated Name","email":"tempusergwdyd@mail.com","role":"user"}} 
 </msg>
<msg time="2025-10-31T09:57:30.000035" level="INFO">${update_response} = &lt;Response [200]&gt;</msg>
<var>${update_response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}${CREATED_USER_ID}</arg>
<arg>json=${update_body}</arg>
<doc>Sends a PUT request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:29.994282" elapsed="0.005768"/>
</kw>
<kw name="Validate 200 OK Response" owner="keywords">
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.000800" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${response.status_code}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2025-10-31T09:57:30.000467" elapsed="0.000375"/>
</kw>
<arg>${update_response}</arg>
<status status="PASS" start="2025-10-31T09:57:30.000232" elapsed="0.000654"/>
</kw>
<kw name="GET On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.004838" level="INFO">GET Request : url=http://localhost:5000/api/v1/users/6904c049358627cee4894bbd 
 path_url=/api/v1/users/6904c049358627cee4894bbd 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg', 'Content-Type': 'application/json'} 
 body=None 
 </msg>
<msg time="2025-10-31T09:57:30.004922" level="INFO">GET Response : url=http://localhost:5000/api/v1/users/6904c049358627cee4894bbd 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '213', 'ETag': 'W/"d5-CnTzgoQtrbTMFlmM0U4tqV3dhfw"', 'Date': 'Fri, 31 Oct 2025 13:57:30 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"data":{"_id":"6904c049358627cee4894bbd","name":"Updated Name","email":"tempusergwdyd@mail.com","role":"user","createdAt":"2025-10-31T13:57:29.933Z","updatedAt":"2025-10-31T13:57:29.998Z","__v":0}} 
 </msg>
<msg time="2025-10-31T09:57:30.005044" level="INFO">${get_response} = &lt;Response [200]&gt;</msg>
<var>${get_response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}${CREATED_USER_ID}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:30.000983" elapsed="0.004086"/>
</kw>
<kw name="Get From Dictionary" owner="Collections">
<msg time="2025-10-31T09:57:30.005961" level="INFO">${updated_name} = Updated Name</msg>
<var>${updated_name}</var>
<arg>${get_response.json()["data"]}</arg>
<arg>name</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<status status="PASS" start="2025-10-31T09:57:30.005353" elapsed="0.000635"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${updated_name}</arg>
<arg>Updated Name</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2025-10-31T09:57:30.006151" elapsed="0.000183"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn" type="TEARDOWN">
<kw name="Delete Created User">
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.007260" level="INFO">🔹 Deletando usuário criado: 6904c049358627cee4894bbd</msg>
<arg>🔹 Deletando usuário criado: ${CREATED_USER_ID}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-31T09:57:30.007124" elapsed="0.000186"/>
</kw>
<kw name="Create Authorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.008053" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg', 'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Authorization": "${token}", "Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:30.007776" elapsed="0.000440"/>
</kw>
<arg>${TOKEN_ADMIN}</arg>
<status status="PASS" start="2025-10-31T09:57:30.007446" elapsed="0.000840"/>
</kw>
<kw name="DELETE On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.015146" level="INFO">DELETE Request : url=http://localhost:5000/api/v1/users/6904c049358627cee4894bbd 
 path_url=/api/v1/users/6904c049358627cee4894bbd 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA0OSwiZXhwIjoxNzYxOTIyNjQ5fQ.kbEu5vbf2GI7SpBIPdhiAwpR6ypYIJaxrQiKsBmr9tg', 'Content-Type': 'application/json', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg time="2025-10-31T09:57:30.015231" level="INFO">DELETE Response : url=http://localhost:5000/api/v1/users/6904c049358627cee4894bbd 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '41', 'ETag': 'W/"29-acm6zjlFy5zJu9kfItNOkEuApLY"', 'Date': 'Fri, 31 Oct 2025 13:57:30 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"message":"User removed"} 
 </msg>
<msg time="2025-10-31T09:57:30.015352" level="INFO">${delete_response} = &lt;Response [200]&gt;</msg>
<var>${delete_response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}${CREATED_USER_ID}</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:30.008395" elapsed="0.006982"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.016063" level="INFO">🧹 Usuário removido (status: 200)</msg>
<arg>🧹 Usuário removido (status: ${delete_response.status_code})</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-31T09:57:30.015555" elapsed="0.000556"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:30.006866" elapsed="0.009315"/>
</kw>
<arg>'${CREATED_USER_ID}' != 'None'</arg>
<arg>Delete Created User</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2025-10-31T09:57:30.006581" elapsed="0.009640"/>
</kw>
<doc>Cria usuário temporário e atualiza nome via admin</doc>
<status status="PASS" start="2025-10-31T09:57:29.924796" elapsed="0.091518"/>
</test>
<test id="s1-t5" name="CT12 - Excluir um usuário (Admin - DELETE)" line="66">
<kw name="Login As Admin" owner="keywords" type="SETUP">
<kw name="Get Admin Token Manual" owner="admin_token_helper">
<msg time="2025-10-31T09:57:30.021005" level="INFO">${token} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA1MCwiZXhwIjoxNzYxOTIyNjUwfQ.K9EkOEU3G0ajlju2deUNWSzDu1ySUPM24CttQD5JFfs</msg>
<var>${token}</var>
<doc>Wrapper simples para ser usado diretamente no Robot Framework.</doc>
<status status="PASS" start="2025-10-31T09:57:30.017221" elapsed="0.003816"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.021356" level="INFO">${TOKEN_ADMIN} = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA1MCwiZXhwIjoxNzYxOTIyNjUwfQ.K9EkOEU3G0ajlju2deUNWSzDu1ySUPM24CttQD5JFfs</msg>
<arg>${TOKEN_ADMIN}</arg>
<arg>${token}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-31T09:57:30.021168" elapsed="0.000219"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.021536" level="INFO">Token Admin Gerado com sucesso (WORKAROUND).</msg>
<arg>Token Admin Gerado com sucesso (WORKAROUND).</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-31T09:57:30.021466" elapsed="0.000095"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:30.016983" elapsed="0.004616"/>
</kw>
<kw name="Generate Random String" owner="String">
<msg time="2025-10-31T09:57:30.021873" level="INFO">${random_suffix} = uWtGx</msg>
<var>${random_suffix}</var>
<arg>5</arg>
<arg>[LETTERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2025-10-31T09:57:30.021720" elapsed="0.000166"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.022068" level="INFO">${email_to_delete} = deletetestuWtGx@mail.com</msg>
<var>${email_to_delete}</var>
<arg>deletetest${random_suffix}@mail.com</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-31T09:57:30.021973" elapsed="0.000107"/>
</kw>
<kw name="Create Unauthorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.022501" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:30.022345" elapsed="0.000277"/>
</kw>
<status status="PASS" start="2025-10-31T09:57:30.022191" elapsed="0.000478"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.022942" level="INFO">${body} = {'email': 'deletetestuWtGx@mail.com', 'password': 'senha123', 'name': 'DeleteMe'}</msg>
<var>${body}</var>
<arg>email=${email_to_delete}</arg>
<arg>password=senha123</arg>
<arg>name=DeleteMe</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-31T09:57:30.022773" elapsed="0.000182"/>
</kw>
<kw name="POST On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.084024" level="INFO">POST Request : url=http://localhost:5000/api/v1/auth/register 
 path_url=/api/v1/auth/register 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '81'} 
 body=b'{"email": "deletetestuWtGx@mail.com", "password": "senha123", "name": "DeleteMe"}' 
 </msg>
<msg time="2025-10-31T09:57:30.084138" level="INFO">POST Response : url=http://localhost:5000/api/v1/auth/register 
 status=201, reason=Created 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '307', 'ETag': 'W/"133-1dgDJuhMtyAZ3qV4uHRZDlAjX+Q"', 'Date': 'Fri, 31 Oct 2025 13:57:30 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"data":{"_id":"6904c04a358627cee4894bc8","name":"DeleteMe","email":"deletetestuwtgx@mail.com","role":"user","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRjMDRhMzU4NjI3Y2VlNDg5NGJjOCIsImlhdCI6MTc2MTkxOTA1MCwiZXhwIjoxNzYyMDA1NDUwfQ.oqyi2W7N0W2UEOd_m2idZ3WHTxNfsayERsBZ9Gs0SgA"}} 
 </msg>
<msg time="2025-10-31T09:57:30.084249" level="INFO">${create_response} = &lt;Response [201]&gt;</msg>
<var>${create_response}</var>
<arg>api</arg>
<arg>/auth/register</arg>
<arg>json=${body}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:30.023041" elapsed="0.061224"/>
</kw>
<kw name="Get From Dictionary" owner="Collections">
<msg time="2025-10-31T09:57:30.084864" level="INFO">${user_id} = 6904c04a358627cee4894bc8</msg>
<var>${user_id}</var>
<arg>${create_response.json()["data"]}</arg>
<arg>_id</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<status status="PASS" start="2025-10-31T09:57:30.084433" elapsed="0.000450"/>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.085150" level="INFO">${CREATED_USER_ID} = 6904c04a358627cee4894bc8</msg>
<arg>${CREATED_USER_ID}</arg>
<arg>${user_id}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="PASS" start="2025-10-31T09:57:30.085008" elapsed="0.000164"/>
</kw>
<kw name="Create Authorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.085638" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA1MCwiZXhwIjoxNzYxOTIyNjUwfQ.K9EkOEU3G0ajlju2deUNWSzDu1ySUPM24CttQD5JFfs', 'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Authorization": "${token}", "Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:30.085471" elapsed="0.000284"/>
</kw>
<arg>${TOKEN_ADMIN}</arg>
<status status="PASS" start="2025-10-31T09:57:30.085293" elapsed="0.000508"/>
</kw>
<kw name="DELETE On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.091147" level="INFO">DELETE Request : url=http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8 
 path_url=/api/v1/users/6904c04a358627cee4894bc8 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA1MCwiZXhwIjoxNzYxOTIyNjUwfQ.K9EkOEU3G0ajlju2deUNWSzDu1ySUPM24CttQD5JFfs', 'Content-Type': 'application/json', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg time="2025-10-31T09:57:30.091224" level="INFO">DELETE Response : url=http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8 
 status=200, reason=OK 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '41', 'ETag': 'W/"29-acm6zjlFy5zJu9kfItNOkEuApLY"', 'Date': 'Fri, 31 Oct 2025 13:57:30 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":true,"message":"User removed"} 
 </msg>
<msg time="2025-10-31T09:57:30.091339" level="INFO">${delete_response} = &lt;Response [200]&gt;</msg>
<var>${delete_response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}${CREATED_USER_ID}</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:30.085905" elapsed="0.005458"/>
</kw>
<kw name="Validate 200 OK Response" owner="keywords">
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.092417" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${response.status_code}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2025-10-31T09:57:30.091941" elapsed="0.000533"/>
</kw>
<arg>${delete_response}</arg>
<status status="PASS" start="2025-10-31T09:57:30.091599" elapsed="0.000937"/>
</kw>
<kw name="GET On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.096896" level="INFO">GET Request : url=http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8 
 path_url=/api/v1/users/6904c04a358627cee4894bc8 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA1MCwiZXhwIjoxNzYxOTIyNjUwfQ.K9EkOEU3G0ajlju2deUNWSzDu1ySUPM24CttQD5JFfs', 'Content-Type': 'application/json'} 
 body=None 
 </msg>
<msg time="2025-10-31T09:57:30.096959" level="INFO">GET Response : url=http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8 
 status=404, reason=Not Found 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '44', 'ETag': 'W/"2c-EAnCIFy1uGovyo/FU6KYwnjLgrc"', 'Date': 'Fri, 31 Oct 2025 13:57:30 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":false,"message":"User not found"} 
 </msg>
<msg time="2025-10-31T09:57:30.097050" level="INFO">${get_response} = &lt;Response [404]&gt;</msg>
<var>${get_response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}${CREATED_USER_ID}</arg>
<arg>expected_status=any</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-10-31T09:57:30.092678" elapsed="0.004387"/>
</kw>
<kw name="Validate 404 Not Found Response">
<msg time="2025-10-31T09:57:30.098091" level="FAIL">No keyword with name 'Validate 404 Not Found Response' found.</msg>
<arg>${get_response}</arg>
<status status="FAIL" start="2025-10-31T09:57:30.098060" elapsed="0.000063">No keyword with name 'Validate 404 Not Found Response' found.</status>
</kw>
<kw name="Set Global Variable" owner="BuiltIn">
<arg>${CREATED_USER_ID}</arg>
<arg>None</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<status status="NOT RUN" start="2025-10-31T09:57:30.098252" elapsed="0.000013"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn" type="TEARDOWN">
<kw name="Delete Created User">
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.098906" level="INFO">🔹 Deletando usuário criado: 6904c04a358627cee4894bc8</msg>
<arg>🔹 Deletando usuário criado: ${CREATED_USER_ID}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-31T09:57:30.098816" elapsed="0.000120"/>
</kw>
<kw name="Create Authorized Session" owner="keywords">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.099329" level="INFO">Creating Session using : alias=api, url=http://localhost:5000/api/v1, headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA1MCwiZXhwIjoxNzYxOTIyNjUwfQ.K9EkOEU3G0ajlju2deUNWSzDu1ySUPM24CttQD5JFfs', 'Content-Type': 'application/json'},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>api</arg>
<arg>${BASE_URL}</arg>
<arg>headers={"Authorization": "${token}", "Content-Type": "application/json"}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-10-31T09:57:30.099173" elapsed="0.000299"/>
</kw>
<arg>${TOKEN_ADMIN}</arg>
<status status="PASS" start="2025-10-31T09:57:30.099014" elapsed="0.000499"/>
</kw>
<kw name="DELETE On Session" owner="RequestsLibrary">
<msg time="2025-10-31T09:57:30.103169" level="INFO">DELETE Request : url=http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8 
 path_url=/api/v1/users/6904c04a358627cee4894bc8 
 headers={'User-Agent': 'python-requests/2.32.4', 'Accept-Encoding': 'gzip, deflate, br', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MDRiNmI4YzM4YmFlZGRlOGU1NTU5OCIsImlhdCI6MTc2MTkxOTA1MCwiZXhwIjoxNzYxOTIyNjUwfQ.K9EkOEU3G0ajlju2deUNWSzDu1ySUPM24CttQD5JFfs', 'Content-Type': 'application/json', 'Content-Length': '0'} 
 body=None 
 </msg>
<msg time="2025-10-31T09:57:30.103224" level="INFO">DELETE Response : url=http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8 
 status=404, reason=Not Found 
 headers={'X-Powered-By': 'Express', 'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '44', 'ETag': 'W/"2c-EAnCIFy1uGovyo/FU6KYwnjLgrc"', 'Date': 'Fri, 31 Oct 2025 13:57:30 GMT', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=5'} 
 body={"success":false,"message":"User not found"} 
 </msg>
<msg time="2025-10-31T09:57:30.103332" level="INFO">${delete_response} = None</msg>
<msg time="2025-10-31T09:57:30.103356" level="FAIL">HTTPError: 404 Client Error: Not Found for url: http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8</msg>
<var>${delete_response}</var>
<arg>api</arg>
<arg>${USER_ENDPOINT}${CREATED_USER_ID}</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<status status="FAIL" start="2025-10-31T09:57:30.099576" elapsed="0.003864">HTTPError: 404 Client Error: Not Found for url: http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8</status>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-31T09:57:30.103874" level="FAIL">Resolving variable '${delete_response.status_code}' failed: AttributeError: 'NoneType' object has no attribute 'status_code'</msg>
<arg>🧹 Usuário removido (status: ${delete_response.status_code})</arg>
<doc>Logs the given message with the given level.</doc>
<status status="FAIL" start="2025-10-31T09:57:30.103555" elapsed="0.000338">Resolving variable '${delete_response.status_code}' failed: AttributeError: 'NoneType' object has no attribute 'status_code'</status>
</kw>
<status status="FAIL" start="2025-10-31T09:57:30.098648" elapsed="0.005328">Several failures occurred:

1) HTTPError: 404 Client Error: Not Found for url: http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8

2) Resolving variable '${delete_response.status_code}' failed: AttributeError: 'NoneType' object has no attribute 'status_code'</status>
</kw>
<arg>'${CREATED_USER_ID}' != 'None'</arg>
<arg>Delete Created User</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="FAIL" start="2025-10-31T09:57:30.098439" elapsed="0.005567">Several failures occurred:

1) HTTPError: 404 Client Error: Not Found for url: http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8

2) Resolving variable '${delete_response.status_code}' failed: AttributeError: 'NoneType' object has no attribute 'status_code'</status>
</kw>
<doc>Cria usuário temporário e o exclui com sucesso</doc>
<status status="FAIL" start="2025-10-31T09:57:30.016550" elapsed="0.087527">No keyword with name 'Validate 404 Not Found Response' found.

Also teardown failed:
Several failures occurred:

1) HTTPError: 404 Client Error: Not Found for url: http://localhost:5000/api/v1/users/6904c04a358627cee4894bc8

2) Resolving variable '${delete_response.status_code}' failed: AttributeError: 'NoneType' object has no attribute 'status_code'</status>
</test>
<status status="FAIL" start="2025-10-31T09:57:29.704052" elapsed="0.400309"/>
</suite>
<statistics>
<total>
<stat pass="2" fail="3" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="2" fail="3" skip="0" id="s1" name="Users Tests">Users Tests</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
